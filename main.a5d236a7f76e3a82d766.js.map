{"version":3,"sources":["webpack:///./components/localService.js","webpack:///./components/dragAndDrop.js","webpack:///./components/renderDataCells.js","webpack:///./components/renderWithFilter.js","webpack:///./components/firstRender.js","webpack:///./components/formNewEvent.js","webpack:///./index.js","webpack:///./templates/table.hbs"],"names":["localServ","getEvents","JSON","parse","localStorage","getItem","setEvents","localArr","setItem","stringify","changeEvent","cellTxt","newClass","className","slice","newDay","split","join","newTime","title","childNodes","textContent","eventsArr","this","currentEv","find","ev","participants","newEvArr","filter","el","dataEvent","class","day","time","push","dragAndDrop","dragged","document","addEventListener","event","target","style","opacity","preventDefault","background","parentNode","removeChild","appendChild","LocalServ","tableRef","querySelector","events","renderDataCells","data","cells","Array","from","getElementsByTagName","swal","map","foundCell","cell","newDiv","createElement","names","markup","innerHTML","insertAdjacentHTML","onDelete","setTimeout","splitsClass","getAttribute","setAttribute","e","text","icon","buttons","dangerMode","then","willDelete","evClass","path","filteredEv","onInput","value","spinnerLoader","filterValue","tableTpl","undefined","participant","classList","remove","add","instance","basicLightbox","onShow","element","onclick","form","onSubmit","elements","team","selectedOptions","i","close","reset","show","formNewEvent","Handlebars","module","exports","template","container","depth0","helpers","partials"],"mappings":"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","file":"main.a5d236a7f76e3a82d766.js","sourcesContent":["class LocalServ {\r\n  getEvents() {\r\n    return JSON.parse(localStorage.getItem('events'));\r\n  }\r\n\r\n  setEvents(localArr) {\r\n    localStorage.setItem('events', JSON.stringify(localArr));\r\n  }\r\n\r\n  changeEvent(cellTxt) {\r\n    const newClass = cellTxt.className.slice(0, -9);\r\n    const newDay = newClass.slice(0, -3).split(' ').join('');\r\n    const newTime = newClass.slice(-3).split(' ').join('');\r\n    const title = cellTxt.childNodes[0].childNodes[1].childNodes[1].textContent;\r\n    const eventsArr = this.getEvents();\r\n    const currentEv = eventsArr.find(ev => {\r\n      return ev.title === title;\r\n    });\r\n    const participants = currentEv.participants;\r\n    const newEvArr = eventsArr.filter(el => el !== currentEv);\r\n\r\n    const dataEvent = {\r\n      class: newClass,\r\n      title: title,\r\n      participants: participants,\r\n      day: newDay,\r\n      time: newTime,\r\n    };\r\n\r\n    newEvArr.push(dataEvent);\r\n    this.setEvents(newEvArr);\r\n  }\r\n}\r\n\r\nconst localServ = new LocalServ();\r\nexport default localServ;\r\n","import LocalServ from './localService';\r\n\r\nexport default function dragAndDrop() {\r\n  let dragged;\r\n\r\n  document.addEventListener('drag', function (event) {}, false);\r\n\r\n  document.addEventListener(\r\n    'dragstart',\r\n    function (event) {\r\n      dragged = event.target;\r\n      event.target.style.opacity = 0.5;\r\n    },\r\n    false,\r\n  );\r\n\r\n  document.addEventListener(\r\n    'dragend',\r\n    function (event) {\r\n      event.target.style.opacity = '';\r\n    },\r\n    false,\r\n  );\r\n\r\n  document.addEventListener(\r\n    'dragover',\r\n    function (event) {\r\n      event.preventDefault();\r\n    },\r\n    false,\r\n  );\r\n\r\n  document.addEventListener(\r\n    'dragenter',\r\n    function (event) {\r\n      if (event.target.className == 'dropzone') {\r\n        event.target.style.background = 'skyblue';\r\n      }\r\n    },\r\n    false,\r\n  );\r\n\r\n  document.addEventListener(\r\n    'dragleave',\r\n    function (event) {\r\n      if (event.target.className == 'dropzone') {\r\n        event.target.style.background = '';\r\n      }\r\n    },\r\n    false,\r\n  );\r\n\r\n  document.addEventListener(\r\n    'drop',\r\n    function (event) {\r\n      event.preventDefault();\r\n\r\n      if (event.target.className.slice(-8) == 'dropzone') {\r\n        event.target.style.background = '';\r\n        dragged.parentNode.removeChild(dragged);\r\n        event.target.appendChild(dragged);\r\n        LocalServ.changeEvent(event.target);\r\n      }\r\n    },\r\n    false,\r\n  );\r\n}\r\n","import swal from 'sweetalert';\r\nimport localServ from './localService';\r\nimport dragAndDrop from './dragAndDrop';\r\n\r\nconst tableRef = document.querySelector('#table');\r\n\r\nconst events = localServ.getEvents();\r\n\r\nexport default async function renderDataCells(data) {\r\n  const cells = Array.from(document.getElementsByTagName('td'));\r\n  if (!data) {\r\n    swal('There is no saved events yet');\r\n    return;\r\n  }\r\n\r\n  await data.map(event => {\r\n    const foundCell = cells.find(cell => {\r\n      return (\r\n        cell.className.split(' ', 2).join(' ') == `${event.day} ${event.time}`\r\n      );\r\n    });\r\n\r\n    if (foundCell.textContent !== '') {\r\n      swal('This time is already taken');\r\n      return;\r\n    }\r\n    const newDiv = document.createElement('div');\r\n    const names = event.participants.join(', ');\r\n    const markup = (newDiv.innerHTML = `<div class=\"cellTxt\" id=\"draggable\" draggable=\"true\" ondragstart=\"event.dataTransfer.setData('text/plain',null)\">\r\n    <p><span>title: </span>${event.title}</p>\r\n  <p><span>participants:</span> ${names} </p> <div class=\"del\"></div> </div>`);\r\n\r\n    foundCell.insertAdjacentHTML('afterbegin', markup);\r\n\r\n    tableRef.addEventListener('click', onDelete);\r\n\r\n    setTimeout(() => {\r\n      cells.map(cell => {\r\n        if (cell.innerHTML === '') {\r\n          const className = cell.getAttribute('class');\r\n          const splitsClass = className.split(' ', 2).join(' ');\r\n          cell.setAttribute('class', `${splitsClass} dropzone`);\r\n        }\r\n      });\r\n    }, 2000);\r\n\r\n    dragAndDrop();\r\n  });\r\n}\r\n\r\nfunction onDelete(e) {\r\n  if (e.target.className === 'del') {\r\n    swal({\r\n      title: 'Are you sure?',\r\n      text: 'Once deleted, you will not be able to recover this event',\r\n      icon: 'warning',\r\n      buttons: true,\r\n      dangerMode: true,\r\n    }).then(willDelete => {\r\n      if (willDelete) {\r\n        swal('Poof! Your event has been deleted!', {\r\n          icon: 'success',\r\n        });\r\n\r\n        const evClass = e.path[2].className;\r\n        const filteredEv = events.filter(ev => ev.class !== evClass);\r\n        localStorage.setItem('events', JSON.stringify(filteredEv));\r\n        e.target.parentNode.innerHTML = '';\r\n      } else {\r\n        swal('Your event is safe!');\r\n      }\r\n    });\r\n  }\r\n  return;\r\n}\r\n","import renderDataCells from './renderDataCells';\r\nimport tableTpl from '../templates/table.hbs';\r\nconst tableRef = document.querySelector('#table');\r\n\r\nexport default function renderWithTimeout(filterValue, events) {\r\n  tableRef.innerHTML = tableTpl();\r\n  if (!filterValue) {\r\n    renderDataCells(events);\r\n  }\r\n  const filteredEvents = events.filter(\r\n    el =>\r\n      el.participants.find(participant => participant === filterValue) !==\r\n      undefined,\r\n  );\r\n  renderDataCells(filteredEvents);\r\n}\r\n","import renderDataCells from './renderDataCells';\r\nimport tableTpl from '../templates/table.hbs';\r\n\r\nconst tableRef = document.querySelector('#table');\r\n\r\nexport default function firstRender(events) {\r\n  const spinnerLoader = document.querySelector('div.spinner');\r\n\r\n  spinnerLoader.classList.remove('notactive');\r\n  setTimeout(() => {\r\n    tableRef.insertAdjacentHTML('afterbegin', tableTpl());\r\n    renderDataCells(events);\r\n    spinnerLoader.classList.add('notactive');\r\n  }, 1000);\r\n}\r\n","import swal from 'sweetalert';\r\nimport * as basicLightbox from 'basiclightbox';\r\nimport 'basiclightbox/dist/basicLightbox.min.css';\r\n\r\nimport localServ from './localService';\r\nimport renderDataCells from './renderDataCells';\r\nconst events = localServ.getEvents();\r\n\r\nfunction onInput(e) {\r\n  const checkTitle = events.find(ev => ev.title === e.target.value);\r\n  if (checkTitle) {\r\n    swal('This title already exists in the Calendar');\r\n    return;\r\n  }\r\n}\r\n\r\nexport default function formNewEvent() {\r\n  const instance = basicLightbox.create(document.querySelector('#modal'), {\r\n    onShow: instance => {\r\n      instance\r\n        .element()\r\n        .querySelector('#title')\r\n        .addEventListener('input', onInput);\r\n      instance.element().querySelector('button').onclick = () => {\r\n        form.addEventListener('submit', onSubmit);\r\n      };\r\n    },\r\n  });\r\n  document.querySelector('button.AddBtn').onclick = instance.show;\r\n\r\n  function onSubmit(e) {\r\n    e.preventDefault();\r\n    const elements = e.target.elements;\r\n    const arrParticipants = Array.from(elements.team.selectedOptions);\r\n    const participants = arrParticipants.map(i => i.value);\r\n\r\n    if (\r\n      elements.time.value === '' ||\r\n      elements.day.value === '' ||\r\n      elements.title.value === '' ||\r\n      elements.team.value === ''\r\n    ) {\r\n      swal('All fields are required');\r\n      return;\r\n    }\r\n\r\n    const dataEvent = [\r\n      {\r\n        class: `${elements.day.value} ${elements.time.value}`,\r\n        title: elements.title.value,\r\n        participants: participants,\r\n        day: elements.day.value,\r\n        time: elements.time.value,\r\n      },\r\n    ];\r\n\r\n    renderDataCells(dataEvent);\r\n    let events = localServ.getEvents();\r\n    let eventsArr = events || [];\r\n    eventsArr.push(dataEvent[0]);\r\n    localServ.setEvents(eventsArr);\r\n\r\n    instance.close();\r\n    form.reset();\r\n  }\r\n}\r\n","import renderWithFilter from './components/renderWithFilter';\nimport renderFirst from './components/firstRender';\nimport localServ from './components/localService';\nimport formNewEvent from './components/formNewEvent';\n\nimport './styles.scss';\n\nlet events = localServ.getEvents();\n\nlet filter = '';\ndocument.querySelector('select.filter').addEventListener('change', event => {\n  filter = event.target.value;\n  events = localServ.getEvents();\n  renderWithFilter(filter, events);\n});\n\nrenderFirst(events);\n\nformNewEvent(events);\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \" <table id='tab'>\\r\\n            <h2>Calendar</h2>\\r\\n            <tr>\\r\\n              <th>Time</th>\\r\\n              <th>Monday</th>\\r\\n              <th>Tuesday</th>\\r\\n              <th>Wednesday</th>\\r\\n              <th>Thursday</th>\\r\\n              <th>Friday</th>\\r\\n            </tr>\\r\\n           \\r\\n            <tr>\\r\\n              <td > 10:00</td>\\r\\n              <td class=\\\"Monday 10\\\"></td>\\r\\n              <td class=\\\"Tuesday 10\\\" ></td>\\r\\n              <td class=\\\"Wednesday 10\\\"></td>\\r\\n              <td class=\\\"Thursday 10\\\"></td>\\r\\n              <td class=\\\"Friday 10\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>11:00 </td>\\r\\n              <td class=\\\"Monday 11\\\" ></td>\\r\\n              <td class=\\\"Tuesday 11\\\"></td>\\r\\n              <td class=\\\"Wednesday 11\\\"></td>\\r\\n              <td class=\\\"Thursday 11\\\"></td>\\r\\n              <td class=\\\"Friday 11\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>12:00 </td>\\r\\n              <td class=\\\"Monday 12\\\"></td>\\r\\n              <td class=\\\"Tuesday 12\\\"></td>\\r\\n              <td class=\\\"Wednesday 12\\\"></td>\\r\\n              <td class=\\\"Thursday 12\\\"></td>\\r\\n              <td class=\\\"Friday 12\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>13:00 </td>\\r\\n              <td class=\\\"Monday 13\\\"></td>\\r\\n              <td class=\\\"Tuesday 13\\\"></td>\\r\\n              <td class=\\\"Wednesday 13\\\"></td>\\r\\n              <td class=\\\"Thursday 13\\\"></td>\\r\\n              <td class=\\\"Friday 13\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>14:00 </td>\\r\\n              <td class=\\\"Monday 14\\\"></td>\\r\\n              <td class=\\\"Tuesday 14\\\"></td>\\r\\n              <td class=\\\"Wednesday 14\\\"></td>\\r\\n              <td class=\\\"Thursday 14\\\"></td>\\r\\n              <td class=\\\"Friday 14\\\"></td>  \\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>15:00 </td>\\r\\n              <td class=\\\"Monday 15\\\"></td>\\r\\n              <td class=\\\"Tuesday 15\\\"></td>\\r\\n              <td class=\\\"Wednesday 15\\\"></td>\\r\\n              <td class=\\\"Thursday 15\\\"></td>\\r\\n              <td class=\\\"Friday 15\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>16:00 </td>\\r\\n              <td class=\\\"Monday 16\\\"></td>\\r\\n              <td class=\\\"Tuesday 16\\\"></td>\\r\\n              <td class=\\\"Wednesday 16\\\"></td>\\r\\n              <td class=\\\"Thursday 16\\\"></td>\\r\\n              <td class=\\\"Friday 16\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>17:00 </td>\\r\\n              <td class=\\\"Monday 17\\\"></td>\\r\\n              <td class=\\\"Tuesday 17\\\"></td>\\r\\n              <td class=\\\"Wednesday 17\\\"></td>\\r\\n              <td class=\\\"Thursday 17\\\"></td>\\r\\n              <td class=\\\"Friday 17\\\"></td>\\r\\n            </tr>            \\r\\n              <td>18:00 </td>\\r\\n              <td class=\\\"Monday 18\\\"></td>\\r\\n              <td class=\\\"Tuesday 18\\\" ></td>\\r\\n              <td class=\\\"Wednesday 18\\\"></td>\\r\\n              <td class=\\\"Thursday 18\\\"></td>\\r\\n              <td class=\\\"Friday 18\\\"></td>                    \\r\\n            </tr>\\r\\n          </table>\";\n},\"useData\":true});"],"sourceRoot":""}