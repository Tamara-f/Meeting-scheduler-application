{"version":3,"sources":["webpack:///./components/localService.js","webpack:///./components/renderDataCells.js","webpack:///./components/renderWithFilter.js","webpack:///./components/firstRender.js","webpack:///./index.js","webpack:///./components/formNewEvent.js","webpack:///./templates/table.hbs"],"names":["localServ","getEvents","JSON","parse","localStorage","getItem","setEvents","localArr","setItem","stringify","tableRef","document","querySelector","renderDataCells","data","cells","Array","from","getElementsByTagName","swal","map","event","foundCell","find","cell","className","day","time","textContent","newDiv","createElement","names","participants","join","markup","innerHTML","title","insertAdjacentHTML","addEventListener","onDelete","e","target","text","icon","buttons","dangerMode","then","willDelete","events","evClass","path","filteredEv","filter","ev","class","parentNode","spinnerLoader","filterValue","value","tableTpl","el","undefined","participant","classList","remove","setTimeout","add","instance","basicLightbox","onShow","element","onclick","form","onSubmit","preventDefault","elements","team","selectedOptions","i","dataEvent","eventsArr","push","close","console","log","reset","show","formNewEvent","Handlebars","module","exports","template","container","depth0","helpers","partials"],"mappings":"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","file":"main.2166f50674084120a58c.js","sourcesContent":["class LocalServ {\r\n  getEvents() {\r\n    return JSON.parse(localStorage.getItem('events'));\r\n  }\r\n\r\n  setEvents(localArr) {\r\n    localStorage.setItem('events', JSON.stringify(localArr));\r\n  }\r\n}\r\n\r\nconst localServ = new LocalServ();\r\nexport default localServ;\r\n","import swal from 'sweetalert';\r\nimport localServ from './localService';\r\nconst tableRef = document.querySelector('#table');\r\n\r\nexport default async function renderDataCells(data) {\r\n  const cells = Array.from(document.getElementsByTagName('td'));\r\n  if (!data) {\r\n    swal('There is no saved events yet');\r\n    return;\r\n  }\r\n\r\n  data.map(event => {\r\n    const foundCell = cells.find(cell => {\r\n      return cell.className == `${event.day} ${event.time}`;\r\n    });\r\n\r\n    if (foundCell.textContent !== '') {\r\n      swal('This time is already taken');\r\n      return;\r\n    }\r\n    const newDiv = document.createElement('div');\r\n    const names = event.participants.join(', ');\r\n    const markup = (newDiv.innerHTML = `<div class=\"cellTxt\"><p><span>title: </span>${event.title}</p>\r\n  <p><span>participants:</span> ${names} </p> <div class=\"del\"></div> </div>`);\r\n\r\n    foundCell.insertAdjacentHTML('afterbegin', markup);\r\n\r\n    tableRef.addEventListener('click', onDelete);\r\n  });\r\n}\r\n\r\nfunction onDelete(e) {\r\n  if (e.target.className === 'del') {\r\n    swal({\r\n      title: 'Are you sure?',\r\n      text: 'Once deleted, you will not be able to recover this event',\r\n      icon: 'warning',\r\n      buttons: true,\r\n      dangerMode: true,\r\n    }).then(willDelete => {\r\n      if (willDelete) {\r\n        swal('Poof! Your event has been deleted!', {\r\n          icon: 'success',\r\n        });\r\n\r\n        let events = localServ.getEvents();\r\n        const evClass = e.path[2].className;\r\n        const filteredEv = events.filter(ev => ev.class !== evClass);\r\n        localServ.setEvents(filteredEv);\r\n        e.target.parentNode.innerHTML = '';\r\n      } else {\r\n        swal('Your event is safe!');\r\n      }\r\n    });\r\n  }\r\n  return;\r\n}\r\n","import renderDataCells from './renderDataCells';\r\nimport tableTpl from '../templates/table.hbs';\r\nconst tableRef = document.querySelector('#table');\r\n\r\nexport default function renderWithTimeout(filterValue, events) {\r\n  tableRef.innerHTML = tableTpl();\r\n  if (!filterValue) {\r\n    renderDataCells(events);\r\n  }\r\n  const filteredEvents = events.filter(\r\n    el =>\r\n      el.participants.find(participant => participant === filterValue) !==\r\n      undefined,\r\n  );\r\n  renderDataCells(filteredEvents);\r\n}\r\n","import renderDataCells from './renderDataCells';\r\nimport tableTpl from '../templates/table.hbs';\r\n\r\nconst tableRef = document.querySelector('#table');\r\n\r\nexport default function firstRender(events) {\r\n  const spinnerLoader = document.querySelector('div.spinner');\r\n\r\n  spinnerLoader.classList.remove('notactive');\r\n  setTimeout(() => {\r\n    tableRef.insertAdjacentHTML('afterbegin', tableTpl());\r\n    renderDataCells(events);\r\n    spinnerLoader.classList.add('notactive');\r\n  }, 1000);\r\n}\r\n","import renderWithFilter from './components/renderWithFilter';\nimport renderFirst from './components/firstRender';\nimport localServ from './components/localService';\nimport formNewEvent from './components/formNewEvent';\n\nimport './styles.scss';\n\nlet events = localServ.getEvents();\n\nlet filter = '';\ndocument.querySelector('select.filter').addEventListener('change', event => {\n  filter = event.target.value;\n  events = localServ.getEvents(); //for new filter\n  renderWithFilter(filter, events);\n});\n\nrenderFirst(events);\n\nformNewEvent(events);\n","import swal from 'sweetalert';\r\nimport * as basicLightbox from 'basiclightbox';\r\nimport 'basiclightbox/dist/basicLightbox.min.css';\r\n\r\nimport localServ from './localService';\r\nimport renderDataCells from './renderDataCells';\r\n\r\nexport default function formNewEvent() {\r\n  const instance = basicLightbox.create(document.querySelector('#modal'), {\r\n    onShow: instance => {\r\n      instance.element().querySelector('button').onclick = () => {\r\n        form.addEventListener('submit', onSubmit);\r\n      };\r\n    },\r\n  });\r\n  document.querySelector('button.AddBtn').onclick = instance.show;\r\n\r\n  function onSubmit(e) {\r\n    e.preventDefault();\r\n    const elements = e.target.elements;\r\n    const arrParticipants = Array.from(elements.team.selectedOptions);\r\n    const participants = arrParticipants.map(i => i.value);\r\n\r\n    if (\r\n      elements.time.value === '' ||\r\n      elements.day.value === '' ||\r\n      elements.title.value === '' ||\r\n      elements.team.value === ''\r\n    ) {\r\n      swal('All fields are required');\r\n      return;\r\n    }\r\n\r\n    const dataEvent = [\r\n      {\r\n        class: `${elements.day.value} ${elements.time.value}`,\r\n        title: elements.title.value,\r\n        participants: participants,\r\n        day: elements.day.value,\r\n        time: elements.time.value,\r\n      },\r\n    ];\r\n\r\n    renderDataCells(dataEvent);\r\n    let events = localServ.getEvents();\r\n    let eventsArr = events || [];\r\n    eventsArr.push(dataEvent[0]);\r\n    localServ.setEvents(eventsArr);\r\n\r\n    instance.close(() => {\r\n      console.log('close modal');\r\n    });\r\n    form.reset();\r\n  }\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \" <table >\\r\\n            <h2>Calendar</h2>\\r\\n            <tr>\\r\\n              <th>Time</th>\\r\\n              <th>Monday</th>\\r\\n              <th>Tuesday</th>\\r\\n              <th>Wednesday</th>\\r\\n              <th>Thursday</th>\\r\\n              <th>Friday</th>\\r\\n            </tr>\\r\\n           \\r\\n            <tr>\\r\\n              <td > 10:00</td>\\r\\n              <td class=\\\"Monday 10\\\"></td>\\r\\n              <td class=\\\"Tuesday 10\\\" ></td>\\r\\n              <td class=\\\"Wednesday 10\\\"></td>\\r\\n              <td class=\\\"Thursday 10\\\"></td>\\r\\n              <td class=\\\"Friday 10\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>11:00 </td>\\r\\n              <td class=\\\"Monday 11\\\" ></td>\\r\\n              <td class=\\\"Tuesday 11\\\"></td>\\r\\n              <td class=\\\"Wednesday 11\\\"></td>\\r\\n              <td class=\\\"Thursday 11\\\"></td>\\r\\n              <td class=\\\"Friday 11\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>12:00 </td>\\r\\n              <td class=\\\"Monday 12\\\"></td>\\r\\n              <td class=\\\"Tuesday 12\\\"></td>\\r\\n              <td class=\\\"Wednesday 12\\\"></td>\\r\\n              <td class=\\\"Thursday 12\\\"></td>\\r\\n              <td class=\\\"Friday 12\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>13:00 </td>\\r\\n              <td class=\\\"Monday 13\\\"></td>\\r\\n              <td class=\\\"Tuesday 13\\\"></td>\\r\\n              <td class=\\\"Wednesday 13\\\"></td>\\r\\n              <td class=\\\"Thursday 13\\\"></td>\\r\\n              <td class=\\\"Friday 13\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>14:00 </td>\\r\\n              <td class=\\\"Monday 14\\\"></td>\\r\\n              <td class=\\\"Tuesday 14\\\"></td>\\r\\n              <td class=\\\"Wednesday 14\\\"></td>\\r\\n              <td class=\\\"Thursday 14\\\"></td>\\r\\n              <td class=\\\"Friday 14\\\"></td>  \\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>15:00 </td>\\r\\n              <td class=\\\"Monday 15\\\"></td>\\r\\n              <td class=\\\"Tuesday 15\\\"></td>\\r\\n              <td class=\\\"Wednesday 15\\\"></td>\\r\\n              <td class=\\\"Thursday 15\\\"></td>\\r\\n              <td class=\\\"Friday 15\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>16:00 </td>\\r\\n              <td class=\\\"Monday 16\\\"></td>\\r\\n              <td class=\\\"Tuesday 16\\\"></td>\\r\\n              <td class=\\\"Wednesday 16\\\"></td>\\r\\n              <td class=\\\"Thursday 16\\\"></td>\\r\\n              <td class=\\\"Friday 16\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>17:00 </td>\\r\\n              <td class=\\\"Monday 17\\\"></td>\\r\\n              <td class=\\\"Tuesday 17\\\"></td>\\r\\n              <td class=\\\"Wednesday 17\\\"></td>\\r\\n              <td class=\\\"Thursday 17\\\"></td>\\r\\n              <td class=\\\"Friday 17\\\"></td>\\r\\n            </tr>            \\r\\n              <td>18:00 </td>\\r\\n              <td class=\\\"Monday 18\\\"></td>\\r\\n              <td class=\\\"Tuesday 18\\\" ></td>\\r\\n              <td class=\\\"Wednesday 18\\\"></td>\\r\\n              <td class=\\\"Thursday 18\\\"></td>\\r\\n              <td class=\\\"Friday 18\\\"></td>                    \\r\\n            </tr>\\r\\n          </table>\";\n},\"useData\":true});"],"sourceRoot":""}