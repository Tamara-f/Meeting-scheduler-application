{"version":3,"sources":["webpack:///./components/localService.js","webpack:///./components/dragAndDrop.js","webpack:///./components/renderDataCells.js","webpack:///./components/renderWithFilter.js","webpack:///./components/firstRender.js","webpack:///./components/formNewEvent.js","webpack:///./index.js","webpack:///./templates/table.hbs"],"names":["localServ","getEvents","JSON","parse","localStorage","getItem","setEvents","localArr","setItem","stringify","changeEvent","cellTxt","title","childNodes","eventsArr","this","currentEv","find","el","newEvArr","filter","push","dragAndDrop","dragged","document","addEventListener","event","target","style","opacity","preventDefault","className","background","slice","parentNode","removeChild","appendChild","LocalServ","tableRef","querySelector","events","renderDataCells","data","cells","Array","from","getElementsByTagName","swal","map","foundCell","cell","split","join","day","time","textContent","newDiv","createElement","names","participants","markup","innerHTML","insertAdjacentHTML","onDelete","setTimeout","splitsClass","getAttribute","setAttribute","e","text","icon","buttons","dangerMode","then","willDelete","evClass","path","filteredEv","ev","class","onInput","value","spinnerLoader","filterValue","tableTpl","undefined","participant","classList","remove","add","instance","basicLightbox","onShow","element","onclick","form","onSubmit","elements","team","selectedOptions","i","dataEvent","close","console","log","reset","show","formNewEvent","Handlebars","module","exports","template","container","depth0","helpers","partials"],"mappings":"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","file":"main.0d1e864ae070252a7309.js","sourcesContent":["class LocalServ {\r\n  getEvents() {\r\n    return JSON.parse(localStorage.getItem('events'));\r\n  }\r\n\r\n  setEvents(localArr) {\r\n    localStorage.setItem('events', JSON.stringify(localArr));\r\n  }\r\n\r\n  changeEvent(cellTxt) {\r\n    const title = cellTxt.childNodes[0].childNodes[1].childNodes[1];\r\n    const eventsArr = this.getEvents();\r\n    const currentEv = eventsArr.find(el => el.title !== title);\r\n    const newEvArr = eventsArr.filter(el => el.title !== title);\r\n\r\n    newEvArr.push(currentEv);\r\n    this.setEvents(newEvArr);\r\n  }\r\n}\r\n\r\nconst localServ = new LocalServ();\r\nexport default localServ;\r\n","import LocalServ from './localService';\r\n\r\nexport default function dragAndDrop() {\r\n  let dragged;\r\n\r\n  document.addEventListener('drag', function (event) {}, false);\r\n\r\n  document.addEventListener(\r\n    'dragstart',\r\n    function (event) {\r\n      dragged = event.target;\r\n      event.target.style.opacity = 0.5;\r\n    },\r\n    false,\r\n  );\r\n\r\n  document.addEventListener(\r\n    'dragend',\r\n    function (event) {\r\n      event.target.style.opacity = '';\r\n    },\r\n    false,\r\n  );\r\n\r\n  document.addEventListener(\r\n    'dragover',\r\n    function (event) {\r\n      event.preventDefault();\r\n    },\r\n    false,\r\n  );\r\n\r\n  document.addEventListener(\r\n    'dragenter',\r\n    function (event) {\r\n      if (event.target.className == 'dropzone') {\r\n        event.target.style.background = 'skyblue';\r\n      }\r\n    },\r\n    false,\r\n  );\r\n\r\n  document.addEventListener(\r\n    'dragleave',\r\n    function (event) {\r\n      if (event.target.className == 'dropzone') {\r\n        event.target.style.background = '';\r\n      }\r\n    },\r\n    false,\r\n  );\r\n\r\n  document.addEventListener(\r\n    'drop',\r\n    function (event) {\r\n      event.preventDefault();\r\n\r\n      if (event.target.className.slice(-8) == 'dropzone') {\r\n        event.target.style.background = '';\r\n        dragged.parentNode.removeChild(dragged);\r\n        event.target.appendChild(dragged);\r\n        LocalServ.changeEvent(event.target);\r\n      }\r\n    },\r\n    false,\r\n  );\r\n}\r\n","import swal from 'sweetalert';\r\nimport localServ from './localService';\r\nimport dragAndDrop from './dragAndDrop';\r\n\r\nconst tableRef = document.querySelector('#table');\r\n\r\nconst events = localServ.getEvents();\r\n\r\nexport default async function renderDataCells(data) {\r\n  const cells = Array.from(document.getElementsByTagName('td'));\r\n  if (!data) {\r\n    swal('There is no saved events yet');\r\n    return;\r\n  }\r\n\r\n  await data.map(event => {\r\n    const foundCell = cells.find(cell => {\r\n      return (\r\n        cell.className.split(' ', 2).join(' ') == `${event.day} ${event.time}`\r\n      );\r\n    });\r\n    if (foundCell.textContent !== '') {\r\n      swal('This time is already taken');\r\n      return;\r\n    }\r\n    const newDiv = document.createElement('div');\r\n    const names = event.participants.join(', ');\r\n    const markup = (newDiv.innerHTML = `<div class=\"cellTxt\" id=\"draggable\" draggable=\"true\" ondragstart=\"event.dataTransfer.setData('text/plain',null)\">\r\n    <p><span>title: </span>${event.title}</p>\r\n  <p><span>participants:</span> ${names} </p> <div class=\"del\"></div> </div>`);\r\n\r\n    foundCell.insertAdjacentHTML('afterbegin', markup);\r\n\r\n    tableRef.addEventListener('click', onDelete);\r\n\r\n    setTimeout(() => {\r\n      cells.map(cell => {\r\n        if (cell.innerHTML === '') {\r\n          const className = cell.getAttribute('class');\r\n          const splitsClass = className.split(' ', 2).join(' ');\r\n          cell.setAttribute('class', `${splitsClass} dropzone`);\r\n        }\r\n      });\r\n    }, 2000);\r\n\r\n    dragAndDrop();\r\n  });\r\n}\r\n\r\nfunction onDelete(e) {\r\n  if (e.target.className === 'del') {\r\n    swal({\r\n      title: 'Are you sure?',\r\n      text: 'Once deleted, you will not be able to recover this event',\r\n      icon: 'warning',\r\n      buttons: true,\r\n      dangerMode: true,\r\n    }).then(willDelete => {\r\n      if (willDelete) {\r\n        swal('Poof! Your event has been deleted!', {\r\n          icon: 'success',\r\n        });\r\n\r\n        const evClass = e.path[2].className;\r\n        const filteredEv = events.filter(ev => ev.class !== evClass);\r\n        localStorage.setItem('events', JSON.stringify(filteredEv));\r\n        e.target.parentNode.innerHTML = '';\r\n      } else {\r\n        swal('Your event is safe!');\r\n      }\r\n    });\r\n  }\r\n  return;\r\n}\r\n","import renderDataCells from './renderDataCells';\r\nimport tableTpl from '../templates/table.hbs';\r\nconst tableRef = document.querySelector('#table');\r\n\r\nexport default function renderWithTimeout(filterValue, events) {\r\n  tableRef.innerHTML = tableTpl();\r\n  if (!filterValue) {\r\n    renderDataCells(events);\r\n  }\r\n  const filteredEvents = events.filter(\r\n    el =>\r\n      el.participants.find(participant => participant === filterValue) !==\r\n      undefined,\r\n  );\r\n  renderDataCells(filteredEvents);\r\n}\r\n","import renderDataCells from './renderDataCells';\r\nimport tableTpl from '../templates/table.hbs';\r\n\r\nconst tableRef = document.querySelector('#table');\r\n\r\nexport default function firstRender(events) {\r\n  const spinnerLoader = document.querySelector('div.spinner');\r\n\r\n  spinnerLoader.classList.remove('notactive');\r\n  setTimeout(() => {\r\n    tableRef.insertAdjacentHTML('afterbegin', tableTpl());\r\n    renderDataCells(events);\r\n    spinnerLoader.classList.add('notactive');\r\n  }, 1000);\r\n}\r\n","import swal from 'sweetalert';\r\nimport * as basicLightbox from 'basiclightbox';\r\nimport 'basiclightbox/dist/basicLightbox.min.css';\r\n\r\nimport localServ from './localService';\r\nimport renderDataCells from './renderDataCells';\r\nconst events = localServ.getEvents();\r\n\r\nfunction onInput(e) {\r\n  const checkTitle = events.find(ev => ev.title === e.target.value);\r\n  if (checkTitle) {\r\n    swal('This title already exists in the Calendar');\r\n    return;\r\n  }\r\n}\r\n\r\nexport default function formNewEvent() {\r\n  const instance = basicLightbox.create(document.querySelector('#modal'), {\r\n    onShow: instance => {\r\n      instance\r\n        .element()\r\n        .querySelector('#title')\r\n        .addEventListener('input', onInput);\r\n      instance.element().querySelector('button').onclick = () => {\r\n        form.addEventListener('submit', onSubmit);\r\n      };\r\n    },\r\n  });\r\n  document.querySelector('button.AddBtn').onclick = instance.show;\r\n\r\n  function onSubmit(e) {\r\n    e.preventDefault();\r\n    const elements = e.target.elements;\r\n    const arrParticipants = Array.from(elements.team.selectedOptions);\r\n    const participants = arrParticipants.map(i => i.value);\r\n\r\n    if (\r\n      elements.time.value === '' ||\r\n      elements.day.value === '' ||\r\n      elements.title.value === '' ||\r\n      elements.team.value === ''\r\n    ) {\r\n      swal('All fields are required');\r\n      return;\r\n    }\r\n\r\n    const dataEvent = [\r\n      {\r\n        class: `${elements.day.value} ${elements.time.value}`,\r\n        title: elements.title.value,\r\n        participants: participants,\r\n        day: elements.day.value,\r\n        time: elements.time.value,\r\n      },\r\n    ];\r\n\r\n    renderDataCells(dataEvent);\r\n    let events = localServ.getEvents();\r\n    let eventsArr = events || [];\r\n    eventsArr.push(dataEvent[0]);\r\n    localServ.setEvents(eventsArr);\r\n\r\n    instance.close(() => {\r\n      console.log('close modal');\r\n    });\r\n    form.reset();\r\n  }\r\n}\r\n","import renderWithFilter from './components/renderWithFilter';\nimport renderFirst from './components/firstRender';\nimport localServ from './components/localService';\nimport formNewEvent from './components/formNewEvent';\n\nimport './styles.scss';\n\nlet events = localServ.getEvents();\n\nlet filter = '';\ndocument.querySelector('select.filter').addEventListener('change', event => {\n  filter = event.target.value;\n  events = localServ.getEvents(); //for new filter\n  renderWithFilter(filter, events);\n});\n\nrenderFirst(events);\n\nformNewEvent(events);\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \" <table id='tab'>\\r\\n            <h2>Calendar</h2>\\r\\n            <tr>\\r\\n              <th>Time</th>\\r\\n              <th>Monday</th>\\r\\n              <th>Tuesday</th>\\r\\n              <th>Wednesday</th>\\r\\n              <th>Thursday</th>\\r\\n              <th>Friday</th>\\r\\n            </tr>\\r\\n           \\r\\n            <tr>\\r\\n              <td > 10:00</td>\\r\\n              <td class=\\\"Monday 10\\\"></td>\\r\\n              <td class=\\\"Tuesday 10\\\" ></td>\\r\\n              <td class=\\\"Wednesday 10\\\"></td>\\r\\n              <td class=\\\"Thursday 10\\\"></td>\\r\\n              <td class=\\\"Friday 10\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>11:00 </td>\\r\\n              <td class=\\\"Monday 11\\\" ></td>\\r\\n              <td class=\\\"Tuesday 11\\\"></td>\\r\\n              <td class=\\\"Wednesday 11\\\"></td>\\r\\n              <td class=\\\"Thursday 11\\\"></td>\\r\\n              <td class=\\\"Friday 11\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>12:00 </td>\\r\\n              <td class=\\\"Monday 12\\\"></td>\\r\\n              <td class=\\\"Tuesday 12\\\"></td>\\r\\n              <td class=\\\"Wednesday 12\\\"></td>\\r\\n              <td class=\\\"Thursday 12\\\"></td>\\r\\n              <td class=\\\"Friday 12\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>13:00 </td>\\r\\n              <td class=\\\"Monday 13\\\"></td>\\r\\n              <td class=\\\"Tuesday 13\\\"></td>\\r\\n              <td class=\\\"Wednesday 13\\\"></td>\\r\\n              <td class=\\\"Thursday 13\\\"></td>\\r\\n              <td class=\\\"Friday 13\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>14:00 </td>\\r\\n              <td class=\\\"Monday 14\\\"></td>\\r\\n              <td class=\\\"Tuesday 14\\\"></td>\\r\\n              <td class=\\\"Wednesday 14\\\"></td>\\r\\n              <td class=\\\"Thursday 14\\\"></td>\\r\\n              <td class=\\\"Friday 14\\\"></td>  \\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>15:00 </td>\\r\\n              <td class=\\\"Monday 15\\\"></td>\\r\\n              <td class=\\\"Tuesday 15\\\"></td>\\r\\n              <td class=\\\"Wednesday 15\\\"></td>\\r\\n              <td class=\\\"Thursday 15\\\"></td>\\r\\n              <td class=\\\"Friday 15\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>16:00 </td>\\r\\n              <td class=\\\"Monday 16\\\"></td>\\r\\n              <td class=\\\"Tuesday 16\\\"></td>\\r\\n              <td class=\\\"Wednesday 16\\\"></td>\\r\\n              <td class=\\\"Thursday 16\\\"></td>\\r\\n              <td class=\\\"Friday 16\\\"></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>17:00 </td>\\r\\n              <td class=\\\"Monday 17\\\"></td>\\r\\n              <td class=\\\"Tuesday 17\\\"></td>\\r\\n              <td class=\\\"Wednesday 17\\\"></td>\\r\\n              <td class=\\\"Thursday 17\\\"></td>\\r\\n              <td class=\\\"Friday 17\\\"></td>\\r\\n            </tr>            \\r\\n              <td>18:00 </td>\\r\\n              <td class=\\\"Monday 18\\\"></td>\\r\\n              <td class=\\\"Tuesday 18\\\" ></td>\\r\\n              <td class=\\\"Wednesday 18\\\"></td>\\r\\n              <td class=\\\"Thursday 18\\\"></td>\\r\\n              <td class=\\\"Friday 18\\\"></td>                    \\r\\n            </tr>\\r\\n          </table>\";\n},\"useData\":true});"],"sourceRoot":""}